<head>
  <title>Storytelling</title>
</head>

<body>
  {{> index_page}}
</body>

<template name="index_page">
	{{#if is_main}}
		{{> main_page}}
	{{/if}}
	{{#if is_setting}}
		{{> setting_page}}
	{{/if}}
	{{#if is_test}}
		{{> test_page}}
	{{/if}}
</template>


<template name="main_page">
	
	<div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
        <div class="nav-collapse collapse" style="height: 0px;">
      			{{#if selected}}
				{{> settingborad}}
				{{/if}}
       
        </div>
          
		 </div>
      </div>
    </div>
    <div style = "height:50px"></div>
    
   	<div class="container">
		<div class='row'>
			<div class='span9'>
				{{#if selected}}
					 {{> sceneboard}}
				{{/if}}
			</div>
				
			<div class='span3 bs-docs-sidebar'>
				<ul class="nav nav-list bs-docs-sidenav affix-top">
					{{> storyboard}}
					{{> launchboard}}
				</ul>
			</div>
		</div>
		<hr>
		<footer>
        <p>© YujinRobot 2014</p>
       </footer>
	</div>
	
	{{#if isShowSetSceneDialog}}
		{{> SceneSettingDialog}}
	{{/if}}	
</template>

<template name="storyboard">
	<h1>Story List</h1>
	<div id="lists">
	  {{#each stories}}
	      <div class = "story">
	  	  	<button class="btn btn-block btn-large ">{{story_name}}</button>
	  	  </div>
	  {{/each}}
	</div> 
</template>


<template name="settingborad" >
	<div class="input-prepend">
		  <span class="add-on">Story Name</span>
		  <input class="input-small sat-story_name" id="prependedInput" type="text" placeholder={{story_name}} value = "{{story_name}}">
		  <span class="add-on">Master IP</span>
		  <input class="input-medium sat-master_ip" id="prependedInput" type="text" placeholder={{master_ip}} value = "{{master_ip}}">
		  <span class="add-on">Robot Type</span>
		  <input class="input-small sat-robot_type" id="prependedInput" type="text" placeholder={{robot_type}} value = {{robot_type}}>
            <span class="add-on">Namespace</span>
            <input class="input-small sat-namespace" id="prependedInput" type="text" placeholder={{namespace}} value = {{namespace}}>

		  <button class="btn btn-primary sat-save-setting" type="button">save</button>

	</div>
</template>

<template name="sceneboard" >
	<h1>Scenes</h1>
	<div class="row">
		{{#each scenes}}
			<div class="span3">
				<img class= "scene_image img-responsive img-polaroid" src="{{image}}" >
			</div>
	 	{{/each}}
	</div>
</template>

<template name = "launchboard">
 	
 	 <div class="jumbotron">
        <h3>Launch Info.</h3>
        <p>Story Name: <b>{{story_name}}</b></p>
        <p>Master IP: <b>{{master_ip}}</b></p>
        <p>Robot Type: <b>{{robot_type}}</b></p>
        <p>NameSpace: <b>{{namespace}}</b></p>
    </div>
     
	 <button class="btn btn-primary sat-export">Export</button>
	 <button class="btn btn-primary sat-execution" >Execution</button>
	
</template>

<template name = "SceneSettingDialog">

	<div class="mask"></div>
	<div class="modal">
	<div class="modal-header">
		<button type="button" class="close cancel">&times;</button>
		<h3>Scene Settings</h3>
	</div>

	<div class="modal-body">
		<h4>Scene</h4>
		<img class="{{story_name}}_{{scene_id}} img-responsive"  src="{{image}}" >
		<h4>Action</h4>
		
		<ul class="nav nav-tabs" id="action_tabs">
			{{#each actions}}
				<li><a href="#{{action_id}}" data-toggle="tab">action {{action_id}}</a></li>
			{{/each}}
		</ul>

		<div class="tab-content">
			{{#each actions}}
				<div class="tab-pane" id="{{action_id}}">
					<button type="button" class="close delete">&times;</button>
					<label>Motion: </label>
					<select class="span4 {{_id}}_motion">
					  <option>{{motion}}</option>
					  {{#each motions}}
	                	<option>{{motion_name}}</option>
	                {{/each}}
              	</select>
              	
					
					<label>Face: </label>
					<select class="span4 {{_id}}_face">
					  <option>{{face}}</option>
					  {{#each emotions}}
	                	<option>{{name}}</option>
	                {{/each}}
              	</select>
              	<label>TTS: </label>
					<input type="text" value="{{tts}}" class="span4 {{_id}}_tts">
				</div>
			{{/each}}
		</div>
		
	</div>

	<div class="modal-footer">
			<a href="#" class="btn cancel">Cancel</a> 
			<a href="#" class="btn btn-primary ok">OK</a>
			<a href="#" class="btn btn-primary add" style="float:left;">Add</a>
	</div>
	</div>
</template>

<template name="setting_page">
<h1>Setting Page</h1>
<div class = "container">
<h2>Robot Motion List Setting</h2>
	<div class="span12">
	<div class="input-prepend input-append">
	  <span class="add-on">Topic </span>
	  <input class="input-xxlarge sat-motion-list-topic" 
	  id="appendedPrependedInput" 
	  type="text" 
	  placeholder="input motion list topic" 
	  value="/rocon_robosem/motion_player/motion_list">
	</div>
	
	<div class="input-prepend input-append">
	  <span class="add-on">Type </span>
	  <input class="input-xxlarge sat-motion-list-topic-type" 
	  id="appendedPrependedInput" 
	  type="text" 
	  placeholder="input motion list topic type" 
	  value="motion_retargeting_msgs/MotionList">
	</div>
	
	<div class="input-prepend input-append">
	  <span class="add-on">ROBOT IP </span>
	  <input class="input-large sat-robot-ip" id="appendedPrependedInput" type="text" placeholder="input robot ip" value="localhost:9090">
	  <button class="btn btn-primary sat-connect-robot" type="button" value = "">Connect</button>
	</div>
	</div>

  
  <div class="span12 sat-new-motions">
  <h3>New motions</h3>
  <table class="table table-bordered">
    <thead>
      <tr>
        <th>이름</th>
      </tr>
    </thead>
    <tbody>
    {{#each new_motions}}
    <tr>
      <td>{{motion_name}}</td>
      <a class="btn sat-add-motion"><i class="icon-plus"></i></a>
    </tr>
    {{/each}}
    </tbody>
  </table>
  </div>

  
  <div class="span12">
  
  <h3>Robot List</h3>
  <select class="span3 sat-robot-list">
  {{#each robots}}
          	<option>{{robot_name}}</option>
  {{/each}}
  </select>
  
  <h3>Motion List</h3>
  {{#each motions}}
  <div class="input-prepend">
    <span class="add-on">{{motion_name}} </span>
    <a class="btn sat-substraction-motion"><i class="icon-minus"></i></a>
  </div>
  {{/each}}
  </div>
 </div>
</template>

<template name="test_page">
</template>